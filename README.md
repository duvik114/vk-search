# vk-search
AutoFiller реализует дополнение поизкового запроса подсказками

Рабочие директории: 

  для Main - vk-search\vk-search-project\src
  
  для Tester -  vk-search\vk-search-project\test
  
Главный класс [AutoFiller](https://github.com/duvik114/vk-search/blob/main/vk-search-project/src/AutoFiller.java) он реализует автодополнение поисковых запросов храня варианты выдачи (возможные ответы) в Боре с переходами по словам. Также он реализует проверку входящего запроса на ошибки (лишний пробел, пропуск пробела, лишний/пропущенный символы, орфографические ошибки...). 

Проверка на ошибки реализована с помощью Автомата Левенштейна: https://en.wikipedia.org/wiki/Levenshtein_automaton и словаря основанного на обычном Боре: https://en.wikipedia.org/wiki/Trie . Количество ошибок задается в процентах от длинны слова (округляется вверх), однако их не может быть болле 9 для одного слова. Алгоритм: для неправильного слова строится недетерминированный (построение детерминированного занимает О(n*2^n) от длины слова) автомат Левенштейна, далее начинается одновременный обход в глубину Бора (словаря) и построенного автомата. Таким образом каждому состоянию Бора приписывается 1 или несколько состояний автомата и если в какой то момент оба состояния становятся терминальными то слово из бора считается исправлением для слова из автомата.

Автодополнение выдает вариант если сам запрос (или его исправления) является его префиксом. Реализовано также на боре только на ребрах лежат не символы а слова (для экономии памяти). Выданные подсказки (варианты) отсортированы по рейтингу который приписывается изначально каждому варианту.

Для работы AutoFiller ему нужно передать название файла с вариантами выдачи и их рейтингами (входные фразы) через метод setup(String hintsFile), после этого вызвать printHints(String request, String outputFile) передав в него запрос и название файла где в последствии будут подсказки. Также при желании можно установить макс процент ошибок.

[Tester](https://github.com/duvik114/vk-search/blob/main/vk-search-project/test/Tester.java) запускает простые тесты (без junit).
